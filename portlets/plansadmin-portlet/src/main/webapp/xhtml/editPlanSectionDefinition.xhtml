<?xml version="1.0"?>
<!--
  ~ Copyright (c) 2010. M.I.T. All Rights Reserved
  ~ Licensed under the MIT license. Please see http://www.opensource.org/licenses/mit-license.php
  ~ or the license.txt file included in this distribution for the full text of the license.
  -->
<f:view
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:liferay-faces="http://liferay.com/tld/faces"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:collab="http://climatecollaboratorium.org/facelets"
    >
    <ice:portlet><ice:form>
    <style>
            label {
                font-weight: bold;
            }
            .col1 {
                vertical-align: top;
                padding: 20px 20px 0 10px;
            }
            
            .col2 {
                vertical-align: top;
                padding: 20px 10px 10px 10px;
            }
            table {
                width: 100%;
            }
            
            td  {
                border-bottom: 1px solid #ccc;
                padding: 5px;
            }
            
            
            
            .even {
                background: #f0f0f0;
            }
            input  {
                width: 100%;
            }
            .defaultText {
                width: 100%;
                height: 100px;
            }
        </style>
        <h1>#{planSectionDefinitionsAdmin.edited.definition}</h1>
        <h1>Edit PlanSectionDefinition #{planSectionDefinitionsAdmin.edited.definition.title}</h1>
        <ice:panelGrid cellspacing="0" columnClasses="col1, col2" rowClasses="odd, even" cellpadding="5" columns="2">
        
           <ice:outputLabel value="Admin title" />
           <ice:inputText value="#{planSectionDefinitionsAdmin.edited.definition.adminTitle}" styleClass="inputWide"  />
           
           <ice:outputLabel value="Title" />
           <ice:inputText value="#{planSectionDefinitionsAdmin.edited.definition.title}" styleClass="inputWide"  />
           
           <ice:outputLabel value="Help text" />
           <ice:inputTextarea value="#{planSectionDefinitionsAdmin.edited.definition.helpText}" styleClass="defaultText" />
           
           <ice:outputLabel value="Section type" />
           <ice:selectOneMenu value="#{planSectionDefinitionsAdmin.edited.type}" partialSubmit="true" >
             <f:selectItems value="#{planSectionDefinitionsAdmin.planSectionDefinitionTypes}" />
           </ice:selectOneMenu>
           
           <!-- Text related configuration -->
		   	<ice:outputLabel value="Default text" rendered="#{planSectionDefinitionsAdmin.edited.type == 'TEXT'}" />
           	<ice:inputTextarea value="#{planSectionDefinitionsAdmin.edited.definition.defaultText}" styleClass="defaultText" rendered="#{planSectionDefinitionsAdmin.edited.type == 'TEXT'}" />
           
           
           	<ice:outputLabel value="Characters limit (set to 0 to be unlimited)" rendered="#{planSectionDefinitionsAdmin.edited.type == 'TEXT'}" />
           	<ice:inputText value="#{planSectionDefinitionsAdmin.edited.definition.characterLimit}" rendered="#{planSectionDefinitionsAdmin.edited.type == 'TEXT'}" />
           
	        <ice:outputLabel value="Focus area" rendered="#{planSectionDefinitionsAdmin.edited.type == 'TEXT'}"  />
    	    <ice:selectOneMenu valueChangeListener="#{planSectionDefinitionsAdmin.edited.focusAreaChange}" value="#{planSectionDefinitionsAdmin.edited.focusAreaId}" rendered="#{planSectionDefinitionsAdmin.edited.type == 'TEXT'}" >
        		<f:selectItems value="#{planSectionDefinitionsAdmin.edited.availableFocusAreas}" rendered="#{planSectionDefinitionsAdmin.edited.type == 'TEXT'}" />
            </ice:selectOneMenu>
           
           
           	<ice:outputLabel value="Locked" rendered="#{planSectionDefinitionsAdmin.edited.type == 'TEXT'}" />
           	<ice:selectBooleanCheckbox value="#{planSectionDefinitionsAdmin.edited.definition.locked}" rendered="#{planSectionDefinitionsAdmin.edited.type == 'TEXT'}" />
           
           <!-- <ice:inputTextarea value="#{planSectionDefinitionsAdmin.edited.definition.defaultText}" styleClass="defaultText" />-->
           
           
           <!-- Proposal reference configuration -->
           <ice:outputLabel value="Contests from which proposals can be choosen" rendered="#{planSectionDefinitionsAdmin.edited.type == 'PROPOSAL_REFERENCE'}" />
           <ice:panelGroup  rendered="#{planSectionDefinitionsAdmin.edited.type == 'PROPOSAL_REFERENCE'}">
           		<ice:commandButton>
           			
           		</ice:commandButton>
           		<ice:panelSeries value="#{planSectionDefinitionsAdmin.edited.contests}" var="contest">
        			<li>#{contest}</li>
           		</ice:panelSeries>
           </ice:panelSeries>
           
           
           
           <ice:outputText />
           <ice:commandButton value="Save" action="#{planSectionDefinitionsAdmin.edited.save}" />
        
        </ice:panelGrid>
           <ice:commandButton value="Back" action="backToIndex" />
    </ice:form></ice:portlet>
</f:view>